---
  flow-definitions:
    - name: 'bayesianPackageAnalysisFlow'
      queue: '{DEPLOYMENT_PREFIX}_ingestion_bayesianPackageAnalysisFlow_v0'
      sampling:
        name: 'constant'
        args:
          retry: 10
      edges:
        - from:
          to: 'github_details'
          condition: &isGhRepoCheck
            name: 'isGhRepo'
            args:
              key: 'url'

        - from:
          to: 'GitReadmeCollectorTask'
          condition:
            <<: *isGhRepoCheck

        - from: 'GitReadmeCollectorTask'
          to: 'package_keywords_tagging'
          condition:
            name: 'argsFieldEqual'
            args:
              key: 'ecosystem'
              value: 'pypi'

        - from:
          to: 'git_stats'
          condition:
            <<: *isGhRepoCheck

        - from:
          to: 'libraries_io'
